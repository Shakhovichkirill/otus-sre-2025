STEP 1/11: FROM python:3.11.4-slim AS base
STEP 2/11: ENV PYTHONDONTWRITEBYTECODE=1
--> 3ee943a4b81e
STEP 3/11: ENV PYTHONUNBUFFERED=1
--> 8713c878a6e1
STEP 4/11: WORKDIR /app
--> 225026f3f605
STEP 5/11: ARG UID=10001
--> f1d39a263e0c
STEP 6/11: RUN adduser     --disabled-password     --gecos ""     --home "/nonexistent"     --shell "/sbin/nologin"     --no-create-home     --uid "${UID}"     appuser
Adding user `appuser' ...
Adding new group `appuser' (10001) ...
Adding new user `appuser' (10001) with group `appuser (10001)' ...
Not creating `/nonexistent'.
Adding new user `appuser' to supplemental / extra groups `users' ...
Adding user `appuser' to group `users' ...
--> a4f7c61f6d09
STEP 7/11: RUN --mount=type=cache,target=/root/.cache/pip     --mount=type=bind,source=requirements.txt,target=requirements.txt     python3 -m pip install -r requirements.txt
Collecting flask (from -r requirements.txt (line 1))
  Using cached flask-3.1.2-py3-none-any.whl (103 kB)
Collecting prometheus-client (from -r requirements.txt (line 2))
  Using cached prometheus_client-0.22.1-py3-none-any.whl (58 kB)
Collecting blinker>=1.9.0 (from flask->-r requirements.txt (line 1))
  Using cached blinker-1.9.0-py3-none-any.whl (8.5 kB)
Collecting click>=8.1.3 (from flask->-r requirements.txt (line 1))
  Using cached click-8.2.1-py3-none-any.whl (102 kB)
Collecting itsdangerous>=2.2.0 (from flask->-r requirements.txt (line 1))
  Using cached itsdangerous-2.2.0-py3-none-any.whl (16 kB)
Collecting jinja2>=3.1.2 (from flask->-r requirements.txt (line 1))
  Using cached jinja2-3.1.6-py3-none-any.whl (134 kB)
Collecting markupsafe>=2.1.1 (from flask->-r requirements.txt (line 1))
  Using cached MarkupSafe-3.0.2-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (23 kB)
Collecting werkzeug>=3.1.0 (from flask->-r requirements.txt (line 1))
  Using cached werkzeug-3.1.3-py3-none-any.whl (224 kB)
Installing collected packages: prometheus-client, markupsafe, itsdangerous, click, blinker, werkzeug, jinja2, flask
Successfully installed blinker-1.9.0 click-8.2.1 flask-3.1.2 itsdangerous-2.2.0 jinja2-3.1.6 markupsafe-3.0.2 prometheus-client-0.22.1 werkzeug-3.1.3
--> e1c1888064ae
STEP 8/11: USER appuser
--> c73a3b9d07fe
STEP 9/11: COPY . .
--> bc11f04e8f42
STEP 10/11: EXPOSE 3000
--> 9eaaa439653d
STEP 11/11: CMD python3 -m flask run --host=0.0.0.0 --port=3000
COMMIT otus-app:v1.0
--> ca3acd9cca75
Successfully tagged localhost/otus-app:v1.0
ca3acd9cca758741dc5d65edac4893f425adb1b95b64617229ef708b06993254
